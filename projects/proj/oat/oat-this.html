<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../css/oat.css">
    <link rel="stylesheet" href="/css/standard.css">
    <link rel="stylesheet" href="/css/root.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T | of all time</title>
</head>
<body>
    <nav>
        <div>
            <img src="../images/logored.jpg" alt="pfp" class="pfp">
            <span>OAT > 2024 > Music/Culture</span>
        </div>
    </nav>
    <div class="cont">
        <div class="post">
            <div class="p-top">
                <span class="genre uh">Music</span>
                &bull;
                <span>11 years ago</span>
                &bull;
                <span class="trending">
                    trending
                </span>
            </div>
            <div class="p-mid">
                <img src="images/oat-photos/rockstar.webp" alt="photo" class="post-img">
                <span>Just for now - Lil B (feat. Jm)</span>
            </div>
            <div class="p-bottum">
                <button>
                    <span class="material-symbols-outlined">
                        swap_vert
                    </span>
                    8.4K
                </button>
                <span>
                    49.3K views
                </span>
                <span>
                    382 comments
                </span>
            </div>
        </div>
    </div>
</body>
 <script>
    const postArray = [];

    const titles = {
        car: 'hello',
        who: 'Overtime - Ken Carson',
        lovr: 'Donk - beyoncé (feat. Jm)'
    };

    function getRandomTitle() {
        const keys = Object.keys(titles);
        const randomKey = keys[Math.floor(Math.random() * keys.length)];
        return titles[randomKey];
    }

function push(genre, date, name, likes, views, comments, rank, type, stat) {
    postArray.push({
        genre,
        date,
        name,
        likes,
        views,
        comments,
        rank,
        type,
        stat
    });
    postArray.sort((a, b) => a.rank - b.rank); // Sort the array based on rank after pushing
}

    // 

    const posts = [
    { genre: 'Music', date: '1 week ago', name: titles.who, likes: '44.3k', views: '1.6M', comments: '6.5k', rank: 1, type: 'Spotify', stat: 'trending'},
    { genre: 'Music', date: '3 weeks ago', name: 'Donk - beyoncé (feat. Jm)', likes: '94.6k', views: '10.6M', comments: '68k', stat: 't'},
    { genre: 'Music - Dj_creal', date: '2 weeks ago', name: 'Just for now remix - Dj creal', likes: '34.1k', views: '3M', comments: '2k' },
    { genre: 'Music - cruf', date: '1 month ago', name: 'Just for now remix - Dj creal', likes: '4.1k', views: '160k', comments: '8k' },
    { genre: 'enternal!', date: '3 months ago', name: '2pm - playboi carti', likes: '17.4k', views: '960k', comments: '18k' },
    { genre: 'enternal!', date: '3 months ago', name: 'cancun (arialB remix) - playboi carti', likes: '21.9k', views: '1M', comments: '28k', type: 'Spotify' },
    { genre: 'Wht_djess', date: '1 months ago', name: 'Wocky woky - tikTok', likes: '1.9k', views: '32.1k', comments: '381' },
    { genre: 'lucki', date: '2 months ago', name: 'more than ever - lucki (Slowed + Reverb) carti', likes: '41k', views: '670k', comments: '8k', rank: 3, type: 'Spotify'},
    { genre: 'floyymenor & Cris mj', date: '1 month ago', name: 'Gata only', likes: '184.2k', views: '8.4M', comments: '40k' },
    { genre: 'Sln_jaydess-topic', date: '4 month ago', name: 'Laylow - jaydes', likes: '28.1k', views: '776k', comments: '15k', type: 'Spotify',},
    { genre: 'Music', date: '4 days ago', name: 'O que sera', likes: '927', views: '8.3k', comments: '124',},
    { genre: 'ALISON', date: '2 weeks ago', name: 'passenger ( slowed + reverb)', likes: '3.9k', views: '40k', comments: '887', },
    { genre: 'raymond', date: '6 days ago', name: '2093 - yeat (slowed + 808s)', likes: '33.9k', views: '980k', comments: '5k', stat: 't'},
    { genre: 'enternal!', date: '3 months ago', name: '6am - playboi carti', likes: '41.5k', views: '334.3k', comments: '6.5k' },
    { genre: 'enternal!', date: '3 months ago', name: 'cancun (arialB remix) - playboi carti', likes: '21.9k', views: '1M', comments: '38k' },
    { genre: 'misma_beats', date: '2 months ago', name: 'you are my stytem slowed', likes: '16k', views: '395.1k', comments: '2k' },
    { genre: 'doubl_d', date: '1 week ago', name: '2016 freshman freestyle XXL slowed remix', likes: '52k', views: '433.4k', comments: '2k' },
    { genre: 'enternal!', date: '9 months ago', name: 'clayco (453Hz) - playboi carti', likes: '91.5k', views: '1.1M', comments: '20.5k' },

];

const usedIndexes = new Set();

function getRandomPost() {
    let randomIndex = Math.floor(Math.random() * posts.length);
    while (usedIndexes.has(randomIndex)) {
        randomIndex = Math.floor(Math.random() * posts.length);
    }
    usedIndexes.add(randomIndex);
    if (usedIndexes.size === posts.length) {
        usedIndexes.clear();
    }
    return posts[randomIndex];
}

function pushPost() {
    const randomPost = getRandomPost(); // Get a random post
    push(randomPost.genre, randomPost.date, randomPost.name, randomPost.likes, randomPost.views, randomPost.comments, randomPost.rank, randomPost.type, randomPost.stat);
}

function runMultipleTimes(numTimes) {
    for (let i = 0; i < numTimes; i++) {
        pushPost();
    }
}

// Example usage:
runMultipleTimes(10);

    //

    function renderPosts() {
    const cont = document.querySelector('.cont');
    cont.innerHTML = ``;
    postArray.forEach((post) => {
        let appListen = ``;
        if (post.type === 'Spotify') { // Check if the 'type' property exists and its value is 'Spotify'
            appListen = `
            &bull;
            <span class="Spotify">
                Listen
                <img src="../images/oat-photos/Spotify.png" alt="php">
            </span>
            `
        }

        if (post.stat) {
            appListen += `
                &bull;
                <span class="trending">
                trending
                </span>
            `
        }
        cont.innerHTML += `
            <div class="post">
                <div class="p-top">
                    <span class="genre uh">${post.genre}</span>
                    &bull;
                    <span>${post.date}</span>
                    ${appListen}
                </div>
                <div class="p-mid">
                    <span class="uh">${post.name}</span>
                </div>
                <div class="p-bottum">
                    <button>
                        <span class="material-symbols-outlined">
                            swap_vert
                        </span>
                        ${post.likes}
                    </button>
                    <span>
                        ${post.views} views
                    </span>
                    <span>
                        ${post.comments} comments
                    </span>
                </div>
            </div>
        `
    });
}


    renderPosts();
    

 </script>
</html>